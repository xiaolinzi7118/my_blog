(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{519:function(s,e,n){s.exports=n.p+"assets/img/vue-money-01.1c181826.png"},520:function(s,e,n){s.exports=n.p+"assets/img/vue-money-02.de2ff5d2.png"},521:function(s,e,n){s.exports=n.p+"assets/img/vue-money-03.4b2937e5.png"},522:function(s,e,n){s.exports=n.p+"assets/img/vue-money-04.9a91a4cc.png"},523:function(s,e,n){s.exports=n.p+"assets/img/vue-money-05.dfb1c64d.png"},524:function(s,e,n){s.exports=n.p+"assets/img/vue-money-06.18c6fb36.png"},525:function(s,e,n){s.exports=n.p+"assets/img/vue-money-07.73deb640.png"},550:function(s,e,n){"use strict";n.r(e);var t=n(2),a=Object(t.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("基于这些天用Vue做的一个模仿微信轻记账项目 "),t("a",{attrs:{href:"https://xiaolinzi7118.github.io/vue-money/#/money",target:"_blank",rel:"noopener noreferrer"}},[s._v("预览"),t("OutboundLink")],1),s._v(" 的总结（小技巧，猜的坑）以及待优化内容。")]),s._v(" "),t("p",[s._v("React版 "),t("a",{attrs:{href:"https://xiaolinzi7118.github.io/react-money-website/",target:"_blank",rel:"noopener noreferrer"}},[s._v("预览"),t("OutboundLink")],1)]),s._v(" "),t("h2",{attrs:{id:"开始"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开始"}},[s._v("#")]),s._v(" 开始")]),s._v(" "),t("p",[s._v("确保node.js以及@vue/cli全局安装了")]),s._v(" "),t("p",[s._v("用vue创建项目"),t("code",[s._v("vue create ...")]),s._v("配置自行选择，然后 "),t("code",[s._v("yarn serve")]),s._v("开启端口预览，成功就可以开始干活了。")]),s._v(" "),t("p",[s._v("确定项目的几个页面大致设计样式，三大页面：记账主界面，明细和报表。")]),s._v(" "),t("p",[t("img",{attrs:{src:n(519),alt:"money1.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:n(520),alt:"money2.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:n(521),alt:"money3.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:n(522),alt:"money4.png"}})]),s._v(" "),t("h2",{attrs:{id:"引入svg"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引入svg"}},[s._v("#")]),s._v(" 引入SVG")]),s._v(" "),t("p",[s._v("用了很多从阿里的下载的icon，引入方式有三种（此项目用的第三种）：")]),s._v(" "),t("h3",{attrs:{id:"第一种"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第一种"}},[s._v("#")]),s._v(" 第一种")]),s._v(" "),t("p",[s._v("引入单个icon，直接复制对应的SVG代码到页面中即可（代码很长且只能单个，项目上不推荐）。")]),s._v(" "),t("h3",{attrs:{id:"第二种"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第二种"}},[s._v("#")]),s._v(" 第二种")]),s._v(" "),t("p",[s._v("添加到项目，Symbol引用：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(523),alt:"svg1.png"}})]),s._v(" "),t("p",[t("img",{attrs:{src:n(524),alt:"svg2.png"}})]),s._v(" "),t("h3",{attrs:{id:"第三种-svg-symbol方式"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#第三种-svg-symbol方式"}},[s._v("#")]),s._v(" 第三种 svg Symbol方式")]),s._v(" "),t("p",[s._v("选择你想要的icon，直接点击svg下载，批量下载后，新建个文件放到项目src目录下，下面就是介绍怎么可以方便引用对应名字的icon。")]),s._v(" "),t("p",[s._v("在Vue项目中使用需要先安装svg-sprite-loader")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("npm install svg-sprite-loader -D\n或\nyarn add --dev svg-sprite-loader -D\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("在根目录找一个以.d.ts文件里添加以下代码：")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('declare module "*.svg"{\n const content: string;\n export default content;\n}\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("p",[s._v("在根目录找一个vue.config.js文件（没有的话就自己建一个），复制以下代码")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const path = require('path')\n\nmodule.exports = {\n    lintOnSave: false,\n    publicPath: '/vue-money/',\n    chainWebpack: config => {\n        const dir = path.resolve(__dirname, 'src/assets/icons')\n\n        config.module\n            .rule('svg-sprite')\n            .test(/\\.svg$/)\n            .include.add(dir).end() // 包含 icons 目录\n            .use('svg-sprite-loader').loader('svg-sprite-loader').options({extract: false}).end()\n        // .use('svgo-loader').loader('svgo-loader')\n        // .tap(options => ({...options, plugins: [{removeAttrs: {attrs: 'fill'}}]})).end()\n        config.plugin('svg-sprite').use(require('svg-sprite-loader/plugin'), [{plainSprite: true}])\n        config.module.rule('svg').exclude.add(dir) // 其他 svg loader 排除 icons 目录\n    }\n}\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("p",[s._v("**tips:**如果require这个关键词eslint报错了，根据报错提示把"),t("code",[s._v("'@typescript-eslint/no-var-requires': 0,")]),s._v("加到.eslintrc.js文件中的rules里即可。")]),s._v(" "),t("p",[s._v("新建一个Icon.vue组件，然后全局引用这个组件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<template>\n  <svg class=\"icon\" @click=\"$emit('click',$event)\">\n    <use :xlink:href=\"'#'+name\"/>\n  </svg>\n</template>\n\n<script>\n// let importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\n// try {\n//   importAll(require.context('../assets/icons', true, /\\.svg$/));\n// } catch (error) {\n//   console.log(error);\n// }\n// __WebpackModuleApi会报错\nlet importAll = (requireContext) => requireContext.keys().forEach(requireContext);\ntry {\n  importAll(require.context('../assets/icons', true, /\\.svg$/));\n} catch (error) {\n  console.log(error);\n}\nexport default {\n  props: ['name'],\n  name: \"Icon\"\n}\n<\/script>\n\n<style scoped>\n.icon {\n  width: 1em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n</style>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br")])]),t("p",[s._v("之后每次使用就只需要写")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<Icon name="id" />\n//id为对应icon的文件名\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("**tips:**如果icon自带颜色，手动删除里面的fill属性即可。")]),s._v(" "),t("h2",{attrs:{id:"确定页面渲染顺序走向"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#确定页面渲染顺序走向"}},[s._v("#")]),s._v(" 确定页面渲染顺序走向")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("main.ts：=>App.vue=>router=>分三个大页面：（Money，Detail，reportForm）")])]),s._v(" "),t("li",[t("p",[s._v("Money：=> Layout：（=>slot占位插槽内容+Nav：三大页面）")]),s._v(" "),t("p",[s._v("占位插槽内容：tabs支出收入，Tags标签，日期选择，formItem备注，numberpad键盘")]),s._v(" "),t("p",[s._v("比如：")]),s._v(" "),t("p",[t("img",{attrs:{src:n(525),alt:"money5.png"}})])]),s._v(" "),t("li",[t("p",[s._v("Labels：=> Layout：（=>slot占位插槽内容+Nav：三大页面）")]),s._v(" "),t("p",[s._v("占位插槽内容：Tags标签列表=>编辑标签页：标签名+删除标签，新增标签")])]),s._v(" "),t("li",[t("p",[s._v("reportForm：=> Layout：（=>slot占位插槽内容+Nav：三大页面）")]),s._v(" "),t("p",[s._v("占位插槽内容：tabs支出收入，计算列表")])])]),s._v(" "),t("h2",{attrs:{id:"踩得坑"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#踩得坑"}},[s._v("#")]),s._v(" 踩得坑")]),s._v(" "),t("h3",{attrs:{id:"全局数据管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#全局数据管理"}},[s._v("#")]),s._v(" 全局数据管理")]),s._v(" "),t("p",[s._v("做第一个money页面时没有想到把记账数据放到Vuex上，方便后面两个页面的使用。数据都是在money和几个子组件间通信的，十分琐碎。")]),s._v(" "),t("p",[s._v("抽离出需要后面统计的数据，关于数据的操作都在Vuex里实现。")]),s._v(" "),t("p",[s._v("**input框会记住历史内容并提示：**这个体验不是很好，把name属性删除就可以了。")]),s._v(" "),t("h2",{attrs:{id:"小技巧"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#小技巧"}},[s._v("#")]),s._v(" 小技巧")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("因为主要应用于手机端，选择日期和列表渲染上面用了"),t("strong",[s._v("Vant-ui框架")]),s._v("，"),t("a",{attrs:{href:"https://vant-contrib.gitee.io/vant/#/zh-CN/home",target:"_blank",rel:"noopener noreferrer"}},[s._v("官网"),t("OutboundLink")],1)])]),s._v(" "),t("li",[t("p",[s._v("报表的饼图"),t("strong",[s._v("使用Echarts图表库")])])]),s._v(" "),t("li",[t("p",[s._v("用workflows快速部署Vue项目，"),t("a",{attrs:{href:"https://github.com/Jsmond2016/github-action-test",target:"_blank",rel:"noopener noreferrer"}},[s._v("使用指南"),t("OutboundLink")],1)])])]),s._v(" "),t("h2",{attrs:{id:"项目待优化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#项目待优化"}},[s._v("#")]),s._v(" 项目待优化")]),s._v(" "),t("ul",[t("li",[s._v("[ ] 可添加编辑标签页")]),s._v(" "),t("li",[s._v("[ ] 可以删除或者编辑以往的记录")]),s._v(" "),t("li",[s._v("[ ] 目前是用LocalStorage存放数据，对于数据的大小有限制，可以存到数据库里，这样可添加用户登录注册")])])])}),[],!1,null,null,null);e.default=a.exports}}]);